/**
 * üí¨ MICROCOPY
 * –ú–∏–∫—Ä–æ-–∫–æ–ø–∏—Ä–∞–π—Ç–∏–Ω–≥ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–î–∂–µ–∫–∏ –†–∏–¥)
 * 
 * –ö–∞–∂–¥–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:
 * - –ö–æ—Ä–æ—Ç–∫–æ–π (–¥–æ 10 —Å–ª–æ–≤)
 * - –î–µ–π—Å—Ç–≤–µ–Ω–Ω–æ–π (–≥–æ–≤–æ—Ä–∏—Ç—å –ß–¢–û –¥–µ–ª–∞—Ç—å)
 * - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π (–ø–æ–¥—Ö–æ–¥–∏—Ç—å –∫ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏)
 */

export const microcopy = {
  // === –ü–†–ò–Å–ú–ö–ê (Receiving) ===
  receiving: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞',
    scanFirst: '–ù–∞—á–Ω–∏—Ç–µ —Å –ª—é–±–æ–≥–æ —Ç–æ–≤–∞—Ä–∞',
    scanNext: '–û—Ç–ª–∏—á–Ω–æ! –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π',
    almostDone: (remaining: number) => `–ï—â—ë ${remaining} ${remaining === 1 ? '–ø–æ–∑–∏—Ü–∏—è' : '–ø–æ–∑–∏—Ü–∏–π'}`,
    completed: '–í—Å–µ —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏–Ω—è—Ç—ã!',
    notFound: '–≠—Ç–æ—Ç —Ç–æ–≤–∞—Ä –Ω–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞',
    notFoundHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à—Ç—Ä–∏—Ö–∫–æ–¥ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞',
    discrepancy: '–ï—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É',
    discrepancyHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ',
    selectDoc: '–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR',
    inProgress: '–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∏—ë–º–∫—É',
    nextStep: '–ì–æ—Ç–æ–≤–æ! –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–º–µ—â–µ–Ω–∏—é?',
  },

  // === –ü–û–î–ë–û–† (Picking) ===
  picking: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä –∏–∑ –∑–∞–∫–∞–∑–∞',
    scanCell: '–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —è—á–µ–π–∫—É',
    scanProduct: '–¢–µ–ø–µ—Ä—å –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä',
    cellMismatch: '–ù–µ–≤–µ—Ä–Ω–∞—è —è—á–µ–π–∫–∞',
    cellMismatchHint: (expected: string) => `–û–∂–∏–¥–∞–µ—Ç—Å—è —è—á–µ–π–∫–∞ ${expected}`,
    productMismatch: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–≤–∞—Ä',
    productMismatchHint: (expected: string) => `–û–∂–∏–¥–∞–µ—Ç—Å—è ${expected}`,
    almostDone: (remaining: number) => `–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥–æ–±—Ä–∞—Ç—å ${remaining}`,
    completed: '–ó–∞–∫–∞–∑ —Å–æ–±—Ä–∞–Ω!',
    checkQuantity: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ',
    nextStep: '–ì–æ—Ç–æ–≤–æ! –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ç–≥—Ä—É–∑–∫–µ?',
  },

  // === –ò–ù–í–ï–ù–¢–ê–†–ò–ó–ê–¶–ò–Ø (Inventory) ===
  inventory: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —è—á–µ–π–∫—É',
    scanProduct: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ —è—á–µ–π–∫–µ',
    newProduct: '–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä ‚Äî –¥–æ–±–∞–≤–∏—Ç—å?',
    quantityCheck: '–£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ',
    almostDone: (remaining: number) => `–ï—â—ë ${remaining} ${remaining === 1 ? '—è—á–µ–π–∫–∞' : '—è—á–µ–µ–∫'}`,
    completed: '–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!',
    cellNotFound: '–Ø—á–µ–π–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
    cellNotFoundHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ —è—á–µ–π–∫–∏',
  },

  // === –û–¢–ì–†–£–ó–ö–ê (Shipping) ===
  shipping: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä –¥–ª—è –æ—Ç–≥—Ä—É–∑–∫–∏',
    checkDoc: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç',
    almostDone: (remaining: number) => `–ï—â—ë ${remaining} —Ç–æ–≤–∞—Ä–æ–≤`,
    completed: '–û—Ç–≥—Ä—É–∑–∫–∞ –≥–æ—Ç–æ–≤–∞!',
    packageReady: '–£–ø–∞–∫–æ–≤–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ',
    nextStep: '–ü–µ—Ä–µ–¥–∞—Ç—å –≤ –¥–æ—Å—Ç–∞–≤–∫—É?',
  },

  // === –†–ê–ó–ú–ï–©–ï–ù–ò–ï (Placement) ===
  placement: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä',
    scanCell: '–¢–µ–ø–µ—Ä—å —Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —è—á–µ–π–∫—É',
    cellOccupied: '–Ø—á–µ–π–∫–∞ –∑–∞–Ω—è—Ç–∞ –¥—Ä—É–≥–∏–º —Ç–æ–≤–∞—Ä–æ–º',
    cellOccupiedHint: '–í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é —è—á–µ–π–∫—É',
    almostDone: (remaining: number) => `–ï—â—ë ${remaining} —Ç–æ–≤–∞—Ä–æ–≤`,
    completed: '–†–∞–∑–º–µ—â–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!',
    placed: (cell: string) => `–†–∞–∑–º–µ—â–µ–Ω–æ –≤ ${cell}`,
  },

  // === –í–û–ó–í–†–ê–¢ (Return) ===
  return: {
    scan: '–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–æ–≤–∞—Ä',
    checkCondition: '–û—Ü–µ–Ω–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞',
    selectReason: '–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –≤–æ–∑–≤—Ä–∞—Ç–∞',
    almostDone: (remaining: number) => `–ï—â—ë ${remaining} –ø–æ–∑–∏—Ü–∏–π`,
    completed: '–í–æ–∑–≤—Ä–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω!',
    damaged: '–¢–æ–≤–∞—Ä –ø–æ–≤—Ä–µ–∂–¥—ë–Ω ‚Äî –æ—Ç–ª–æ–∂–∏—Ç—å?',
  },

  // === –û–ë–©–ò–ï ===
  common: {
    loading: '–ó–∞–≥—Ä—É–∑–∫–∞...',
    saving: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',
    error: '–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫',
    retry: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑',
    back: '–ù–∞–∑–∞–¥',
    cancel: '–û—Ç–º–µ–Ω–∏—Ç—å',
    confirm: '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å',
    done: '–ì–æ—Ç–æ–≤–æ',
    skip: '–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å',
    help: '–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?',
  },

  // === –û–®–ò–ë–ö–ò ===
  errors: {
    network: '–ù–µ—Ç —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º',
    networkHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É',
    notFound: '–ù–µ –Ω–∞–π–¥–µ–Ω–æ',
    notFoundHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞',
    permission: '–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞',
    permissionHint: '–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É',
    camera: '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É',
    cameraHint: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö',
  },

  // === –£–°–ü–ï–•–ò (Micro-rewards) ===
  rewards: {
    firstScan: '–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ!',
    halfway: '–ü–æ–ª–æ–≤–∏–Ω–∞ –ø—É—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–∞!',
    almostThere: '–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ!',
    perfect: '–ò–¥–µ–∞–ª—å–Ω–æ!',
    fast: '–ë—ã—Å—Ç—Ä–æ!',
    accurate: '–¢–æ—á–Ω–æ!',
    noErrors: '–ë–µ–∑ –æ—à–∏–±–æ–∫!',
    streak: (count: number) => `${count} –ø–æ–¥—Ä—è–¥!`,
  },
};

/**
 * –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è –º–æ–¥—É–ª—è
 */
export function getMicrocopy(module: keyof typeof microcopy, key: string, ...args: any[]): string {
  const moduleTexts = microcopy[module] as any;
  if (!moduleTexts) return '';
  
  const text = moduleTexts[key];
  if (typeof text === 'function') {
    return text(...args);
  }
  
  return text || '';
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É
 */
export function getRandomReward(): string {
  const rewards = [
    microcopy.rewards.perfect,
    microcopy.rewards.fast,
    microcopy.rewards.accurate,
  ];
  
  return rewards[Math.floor(Math.random() * rewards.length)];
}

