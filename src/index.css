/* === üìÅ src/index.css === */
/* Global styles */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   üé® CSS VARIABLES FOR THEME SWITCHING
   ============================================ */

/* Default theme (Dark) - Extracted from Figma Colors Dark (5583:45261) */
:root {
  /* Surface colors (backgrounds) */
  --color-surface-primary: #121721;   /* Main background */
  --color-surface-secondary: #1d222a; /* Cards/Modals */
  --color-surface-tertiary: #2a2f38;  /* Inputs/Hovers */
  --color-surface-inverse: #ffffff;
  --color-surface-overlay: rgba(18, 23, 33, 0.8);
  --color-surface-disabled: #2a2f38;

  /* Content colors (text) */
  --color-content-primary: #eaecf0;   /* High emphasis text */
  --color-content-secondary: #aaaeb6; /* Medium emphasis text */
  --color-content-tertiary: #80858e;  /* Low emphasis text */
  --color-content-inverse: #121721;
  --color-content-disabled: #525760;

  /* Border colors */
  --color-border-default: #2a2f38;
  --color-border-light: #343a46;
  --color-border-strong: #525760;
  --color-border-focus: #4480f3;

  /* Brand colors */
  --color-brand-primary: #4480f3;     /* Primary Blue */
  --color-brand-dark: #3d75e4;        /* Slightly darker blue */
  --color-brand-secondary: #86e0cb;   /* Teal */

  /* Status colors (Updated from Dark Theme Palette) */
  --color-success: #5fad05;           /* Green */
  --color-warning: #e78018;           /* Orange */
  --color-error: #e35454;             /* Red */
  --color-info: #4480f3;              /* Blue (same as primary) */
}

/* Light theme override - Extracted from Figma Colors Default */
[data-theme='light'] {
  /* Surface colors (backgrounds) */
  --color-surface-primary: #f5f6f8;   /* Light Grey bg */
  --color-surface-secondary: #ffffff; /* White cards */
  --color-surface-tertiary: #eaecf0;  /* Light inputs */
  --color-surface-inverse: #121721;
  --color-surface-overlay: rgba(255, 255, 255, 0.8);
  --color-surface-disabled: #f5f6f8;

  /* Content colors (text) */
  --color-content-primary: #1d222a;   /* Dark text */
  --color-content-secondary: #525760; /* Grey text */
  --color-content-tertiary: #80858e;  /* Light grey text */
  --color-content-inverse: #ffffff;
  --color-content-disabled: #d4d5d9;

  /* Border colors */
  --color-border-default: #d4d5d9;
  --color-border-light: #eaecf0;
  --color-border-strong: #80858e;
  --color-border-focus: #4480f3;
  
  /* Status colors (Light theme specific if needed, currently shared but usually inverted) */
  /* Keeping shared for consistency unless specific light tokens found */
}

html {
  font-family: 'Atkinson Hyperlegible', 'Noto Sans', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  color: var(--color-content-secondary);
  background-color: var(--color-surface-primary);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

html[data-theme='light'] {
  color-scheme: light;
}

body {
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
  background-color: var(--color-surface-primary);
  color: var(--color-content-secondary);
}

* {
  box-sizing: border-box;
}

@layer components {
  .btn-primary {
    @apply px-4 py-2 bg-[var(--color-brand-primary)] text-white rounded-lg font-bold hover:bg-[var(--color-brand-dark)] active:brightness-90 transition-colors min-h-[44px] min-w-[44px];
  }

  .btn-secondary {
    @apply px-4 py-2 bg-[var(--color-surface-tertiary)] text-[var(--color-content-primary)] rounded-lg font-semibold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .btn-success {
    @apply px-4 py-2 bg-[var(--color-success)] text-white rounded-lg font-bold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .btn-danger {
    @apply px-4 py-2 bg-[var(--color-error)] text-white rounded-lg font-bold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .card {
    @apply bg-[var(--color-surface-secondary)] border border-[var(--color-border-default)] rounded-lg shadow-md p-4 text-[var(--color-content-primary)];
  }

  .card-compact {
    @apply bg-[var(--color-surface-secondary)] border border-[var(--color-border-default)] rounded-lg shadow-md px-3 py-2 text-[var(--color-content-primary)];
  }

  .input-field {
    @apply w-full px-3 py-2 border border-[var(--color-border-default)] rounded-lg bg-[var(--color-surface-secondary)] text-[var(--color-content-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-brand-primary)] focus:border-[var(--color-brand-primary)] min-h-[44px] placeholder:text-[var(--color-content-tertiary)];
  }

  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }

  /* Chips */
  .chip {
    @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm leading-tight whitespace-nowrap min-w-0 shrink-0 select-none font-medium
           border border-[var(--color-border-default)] bg-transparent text-[var(--color-content-secondary)] transition-all;
  }

  .chip:hover:not(.chip-active) { @apply bg-[var(--color-surface-tertiary)] border-[var(--color-border-strong)]; }

  .chip-active { @apply bg-[var(--color-brand-primary)] text-white border-[var(--color-brand-primary)] font-semibold shadow-sm; }

  /* Tiles */
  .tile-base {
    @apply rounded-xl text-left transition-all shadow-lg relative overflow-hidden flex flex-col justify-between focus:outline-none focus:ring-2 focus:ring-[#4480f3]/60 border border-transparent;
  }

  .tile-primary {
    @apply tile-base p-4 md:p-5 min-h-[108px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-secondary {
    @apply tile-base p-4 md:p-5 min-h-[96px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-tertiary {
    @apply tile-base p-3 md:p-4 min-h-[72px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-outline {
    @apply bg-transparent border border-[var(--color-border-strong)];
  }

  /* Tile Typography */
  .tile-title-lg {
    @apply text-xl md:text-[20px] font-bold mb-1 tracking-tight;
  }

  .tile-title-md {
    @apply text-xl md:text-[18px] font-semibold mb-0.5 tracking-tight;
  }

  .tile-title-sm {
    @apply text-lg md:text-[16px] font-semibold mb-0.5 tracking-tight;
  }

  .tile-subtext {
    @apply text-xs md:text-sm opacity-80 leading-relaxed;
  }

  .tile-footer {
    @apply mt-1 pt-1 flex items-center justify-end;
  }

  .tile-count-hero {
    @apply text-2xl md:text-3xl font-bold;
  }

  .tile-count-dark {
    @apply text-xs font-semibold opacity-80;
  }

  .tile-count-light {
    @apply text-xs font-semibold opacity-80;
  }

  /* Priority tones */
  .tone-strong {
    @apply filter saturate-100;
  }

  .tone-medium {
    @apply filter saturate-100;
  }

  .tone-muted {
    @apply filter saturate-50 brightness-95;
  }
}

/* Touch targets */
button, a, input[type="button"], input[type="submit"] {
  min-height: 44px;
  min-width: 44px;
}

/* Loading animations */
@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.12) 37%, rgba(255,255,255,0.05) 63%);
  animation: pulse 1.5s ease-in-out infinite;
}

.skeleton-wave {
  background: linear-gradient(
    90deg,
    var(--color-surface-tertiary) 0%,
    var(--color-surface-tertiary) 40%,
    var(--color-surface-secondary) 50%,
    var(--color-surface-tertiary) 60%,
    var(--color-surface-tertiary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Remove explicit !important overrides and rely on variables where possible */
/* Minimal back-compat for hardcoded tailwind classes if needed */
html[data-theme='light'] .skeleton {
    background: linear-gradient(90deg, rgba(0,0,0,0.05) 25%, rgba(0,0,0,0.12) 37%, rgba(0,0,0,0.05) 63%);
}
