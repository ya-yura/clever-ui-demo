/* === üìÅ src/index.css === */
/* Global styles */

/* Fonts */
@font-face {
  font-family: 'Atkinson Hyperlegible';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('./assets/fonts/AtkinsonHyperlegible-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'Atkinson Hyperlegible';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('./assets/fonts/AtkinsonHyperlegible-Bold.ttf') format('truetype');
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   üé® CSS VARIABLES FOR THEME SWITCHING
   Design System v3.0.0
   ============================================ */

/* Default theme (Dark) */
:root {
  /* Typography */
  --font-family-base: 'Atkinson Hyperlegible', 'Noto Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Avenir, Helvetica, Arial, sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', 'SFMono-Regular', ui-monospace, monospace;

  /* Surface colors (backgrounds) */
  --color-surface-primary: #2c2c2e; /* Main app background - slightly darker */
  --color-surface-secondary: #3c3c3e; /* Cards, Inputs - slightly lighter */
  --color-surface-tertiary: #48484a; /* Hovers, secondary elements */
  --color-surface-inverse: #ffffff;
  --color-surface-overlay: rgba(44, 44, 46, 0.85);
  --color-surface-disabled: #2c2c2e;

  /* Content colors (text) */
  --color-content-primary: #f0f0f0;
  --color-content-secondary: #b0b0b0;
  --color-content-tertiary: #808080;
  --color-content-inverse: #2c2c2e;
  --color-content-disabled: #525760;

  /* Border colors */
  --color-border-default: #3a3a3c; /* Dark mode: slightly lighter than bg, darker than content */
  --color-border-light: #5c5c5c;
  --color-border-strong: #707070;
  --color-border-focus: #d89668;

  /* Brand colors (base palette from Figma) */
  --color-brand-primary: #d89668;
  --color-brand-dark: #3d2817;
  --color-brand-light: #ffcda3;
  --color-brand-secondary: #c9a636;
  --color-brand-secondary-dark: #a88a2d;
  --color-brand-secondary-light: #f3d640;
  --color-brand-tertiary: #f0a58a;
  --color-brand-tertiary-dark: #c76b5b;
  --color-brand-tertiary-light: #fcd0d0;

  /* Accent colors for secondary elements */
  --color-accent-cyan: #4dd0e1;
  --color-accent-cyan-dark: #26a69a;
  --color-accent-cyan-light: #80deea;
  --color-accent-green: #7ed321;
  --color-accent-green-dark: #5a9c15;
  --color-accent-green-light: #a8e063;
  --color-accent-yellow: #e0b536;
  --color-accent-yellow-dark: #b8942a;
  --color-accent-yellow-light: #f3d640;

  /* Status colors */
  --color-success: #5fad05;
  --color-success-dark: #2d6b2d;
  --color-success-light: #d4f8d4;
  --color-warning: #e78018;
  --color-warning-dark: #8b5931;
  --color-warning-light: #ffd9b3;
  --color-error: #e35454;
  --color-error-dark: #6b3d3c;
  --color-error-light: #f0d6d6;
  --color-info: #4dd0e1;
  --color-info-dark: #26a69a;
  --color-info-light: #80deea;

  /* Module colors */
  --color-module-receiving-bg: #d89668;
  --color-module-receiving-text: #7d4a2d;
  --color-module-picking-bg: #c9a636;
  --color-module-picking-text: #5a4a1a;
  --color-module-shipment-bg: #a0d995;
  --color-module-shipment-text: #1f4d1f;
  --color-module-placement-bg: #86e0cb;
  --color-module-placement-text: #154038;
  --color-module-inventory-bg: #f0a58a;
  --color-module-inventory-text: #7d4a2d;
  --color-module-return-bg: #e35454;
  --color-module-return-text: #ffffff;
  --color-module-transfer-bg: #4dd0e1;
  --color-module-transfer-text: #154038;
  --color-module-marking-bg: #7ed321;
  --color-module-marking-text: #154038;
}

/* Light theme override */
[data-theme='light'] {
  --color-surface-primary: #f5f6f8;
  --color-surface-secondary: #ffffff;
  --color-surface-tertiary: #eaecf0;
  --color-surface-inverse: #343436;
  --color-surface-overlay: rgba(255, 255, 255, 0.8);
  --color-surface-disabled: #f5f6f8;

  --color-content-primary: #1d222a;
  --color-content-secondary: #525760;
  --color-content-tertiary: #80858e;
  --color-content-inverse: #ffffff;
  --color-content-disabled: #d4d5d9;

  --color-border-default: #eaecf0; /* Light mode: very subtle border */
  --color-border-light: #f2f4f7;
  --color-border-strong: #d0d5dd;
  --color-border-focus: #d89668;
}

html {
  font-family: var(--font-family-base, 'Atkinson Hyperlegible', 'Noto Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Avenir, Helvetica, Arial, sans-serif);
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  color: var(--color-content-secondary);
  background-color: var(--color-surface-primary);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

html[data-theme='light'] {
  color-scheme: light;
}

body {
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
  background-color: var(--color-surface-primary);
  color: var(--color-content-secondary);
  font-family: inherit;
}

* {
  box-sizing: border-box;
}

button,
input,
textarea,
select {
  font-family: inherit;
}

code,
pre,
kbd,
samp {
  font-family: var(--font-family-mono, 'JetBrains Mono', 'Fira Code', 'SFMono-Regular', ui-monospace, monospace);
}

@layer components {
  .btn-primary {
    @apply px-4 py-2 rounded-lg font-semibold hover:brightness-90 active:brightness-95 transition-all min-h-[44px] min-w-[44px];
    background-color: var(--color-brand-primary);
    color: var(--color-brand-dark);
  }

  .btn-secondary {
    @apply px-4 py-2 bg-[var(--color-surface-tertiary)] text-[var(--color-content-primary)] rounded-lg font-semibold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .btn-success {
    @apply px-4 py-2 bg-[var(--color-success)] text-white rounded-lg font-bold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .btn-danger {
    @apply px-4 py-2 bg-[var(--color-error)] text-white rounded-lg font-bold hover:brightness-110 active:brightness-95 transition-colors min-h-[44px] min-w-[44px];
  }

  .card {
    @apply bg-[var(--color-surface-secondary)] border border-[var(--color-border-default)] rounded-lg shadow-md p-4 text-[var(--color-content-primary)];
  }

  .card-compact {
    @apply bg-[var(--color-surface-secondary)] border border-[var(--color-border-default)] rounded-lg shadow-md px-3 py-2 text-[var(--color-content-primary)];
  }

  .input-field {
    @apply w-full px-3 py-2 border border-[var(--color-border-default)] rounded-lg bg-[var(--color-surface-secondary)] text-[var(--color-content-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-brand-primary)] focus:border-[var(--color-brand-primary)] min-h-[44px] placeholder:text-[var(--color-content-tertiary)];
  }

  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }

  /* Chips */
  .chip {
    @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm leading-tight whitespace-nowrap min-w-0 shrink-0 select-none font-medium
           border border-[var(--color-border-default)] bg-transparent text-[var(--color-content-secondary)] transition-all;
  }

  .chip:hover:not(.chip-active) { @apply bg-[var(--color-surface-tertiary)] border-[var(--color-border-strong)]; }

  .chip-active { @apply bg-[var(--color-brand-primary)] text-white border-[var(--color-brand-primary)] font-semibold shadow-sm; }

  /* Tiles */
  .tile-base {
    @apply rounded-xl text-left transition-all shadow-lg relative overflow-hidden flex flex-col justify-between focus:outline-none focus:ring-2 border border-transparent;
    box-shadow: 0 0 0 0 transparent;
  }
  
  .tile-base:focus {
    box-shadow: 0 0 0 3px rgba(216, 150, 104, 0.4);
  }

  .tile-primary {
    @apply tile-base p-4 md:p-5 min-h-[108px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-secondary {
    @apply tile-base p-4 md:p-5 min-h-[96px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-tertiary {
    @apply tile-base p-3 md:p-4 min-h-[72px] hover:brightness-110 active:scale-[0.99];
  }

  .tile-outline {
    @apply bg-transparent border border-[var(--color-border-strong)];
  }

  /* Tile Typography */
  .tile-title-lg {
    @apply text-xl md:text-[20px] font-bold mb-1 tracking-tight;
  }

  .tile-title-md {
    @apply text-base md:text-[16px] font-semibold mb-0.5 tracking-tight truncate;
  }

  .tile-title-sm {
    @apply text-sm md:text-[15px] font-semibold mb-0.5 tracking-tight truncate;
  }

  .tile-subtext {
    @apply text-xs md:text-sm opacity-80 leading-relaxed;
  }

  .tile-footer {
    @apply mt-1 pt-1 flex items-center justify-end;
  }

  .tile-count-hero {
    @apply text-2xl md:text-3xl font-bold;
  }

  .tile-count-dark {
    @apply text-xs font-semibold opacity-80;
  }

  .tile-count-light {
    @apply text-xs font-semibold opacity-80;
  }

  /* Priority tones */
  .tone-strong {
    @apply filter saturate-100;
  }

  .tone-medium {
    @apply filter saturate-100;
  }

  .tone-muted {
    @apply filter saturate-50 brightness-95;
  }
}

/* Touch targets */
button, a, input[type="button"], input[type="submit"] {
  min-height: 44px;
  min-width: 44px;
}

/* Loading animations */
@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.12) 37%, rgba(255,255,255,0.05) 63%);
  animation: pulse 1.5s ease-in-out infinite;
}

.skeleton-wave {
  background: linear-gradient(
    90deg,
    var(--color-surface-tertiary) 0%,
    var(--color-surface-tertiary) 40%,
    var(--color-surface-secondary) 50%,
    var(--color-surface-tertiary) 60%,
    var(--color-surface-tertiary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

html[data-theme='light'] .skeleton {
    background: linear-gradient(90deg, rgba(0,0,0,0.05) 25%, rgba(0,0,0,0.12) 37%, rgba(0,0,0,0.05) 63%);
}
