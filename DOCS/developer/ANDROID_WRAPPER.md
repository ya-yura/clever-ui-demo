#!/usr/bin/env markdown
# üì± Android-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è PWA (TSD)

## –ó–∞—á–µ–º
–≠—Ç–∞ –æ–±—ë—Ä—Ç–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å PWA –∫–∞–∫ Android‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ HTTP API
–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –±—Ä–∞—É–∑–µ—Ä–∞ (Mixed Content). –°–µ—Ä–≤–µ—Ä API –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏
- –ü—Ä–æ—Å—Ç–æ–µ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å `WebView`
- –†–∞–∑—Ä–µ—à—ë–Ω HTTP (cleartext)
- –†–∞–∑—Ä–µ—à—ë–Ω mixed content (HTTPS UI ‚Üí HTTP API)
- –ê–¥—Ä–µ—Å PWA –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `app_home_url`

## –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
- –ü—Ä–æ–µ–∫—Ç Android: `android-wrapper/`
- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω: `android-wrapper/app/src/main/java/ru/cleverence/sklad15/MainActivity.kt`
- URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `android-wrapper/app/src/main/res/values/strings.xml`

## –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å APK
1. –û—Ç–∫—Ä–æ–π—Ç–µ Android Studio
2. File ‚Üí Open ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `android-wrapper/`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Gradle
4. Build ‚Üí Build Bundle(s) / APK(s) ‚Üí Build APK(s)

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–∫–ª–∞–¥–µ
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –≤–∏–¥–µ—Ç—å Wi‚ÄëFi —Å–µ—Ä–≤–µ—Ä (–ø–æ IP)
- –í–Ω—É—Ç—Ä–∏ PWA –∑–∞–π—Ç–∏ –Ω–∞ `/setup` –∏ —É–∫–∞–∑–∞—Ç—å API:
  `http://<IP_–°–ï–†–í–ï–†–ê>:9000/MobileSMARTS/api/v1`
 - –ö–Ω–æ–ø–∫–∞ `URL` –≤ –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ PWA

## –ò–∑–º–µ–Ω–∏—Ç—å –∞–¥—Ä–µ—Å PWA
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥—Ä—É–≥—É—é PWA‚Äë—Å–±–æ—Ä–∫—É:
- –ò–∑–º–µ–Ω–∏—Ç–µ `app_home_url` –≤ `strings.xml`
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ APK

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ï—Å–ª–∏ API –Ω–µ –æ—Ç–¥–∞—ë—Ç CORS, –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–ª–∏—Ç–∏–∫–æ–π –±—Ä–∞—É–∑–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ WebView.
  –≠—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.
