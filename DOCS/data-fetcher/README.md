# üì¶ –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ MobileSMARTS

> –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
3. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
4. [–§–∞–π–ª—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#—Ñ–∞–π–ª—ã-–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
5. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–ø–æ—Å–æ–± 1: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run dev

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:5173

# 3. –í–æ–π–¥–∏—Ç–µ –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º –∏–ª–∏ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# 4. –ú–µ–Ω—é ‚ò∞ ‚Üí "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö"

# 5. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"

# 6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ src/data/demo/
```

### –°–ø–æ—Å–æ–± 2: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
npm run fetch-data

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
node scripts/fetchServerData.js http://your-server:9000/MobileSMARTS/api/v1
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```
docs/data-fetcher/
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª - –≥–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ 01-OVERVIEW.md              # –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ 02-QUICK-START.md           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–µ—Ç–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ 03-WEB-INTERFACE.md         # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∑–∫–∏
‚îú‚îÄ‚îÄ 04-CLI-USAGE.md             # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
‚îú‚îÄ‚îÄ 05-DEMO-MODE.md             # –†–∞–±–æ—Ç–∞ —Å –¥–µ–º–æ-—Ä–µ–∂–∏–º–æ–º
‚îú‚îÄ‚îÄ 06-API-REFERENCE.md         # –°–ø—Ä–∞–≤–∫–∞ –ø–æ API
‚îú‚îÄ‚îÄ 07-TROUBLESHOOTING.md       # –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
‚îú‚îÄ‚îÄ 08-CHANGELOG.md             # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ scripts/                    # –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ fetchServerData.js      # Node.js —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îî‚îÄ‚îÄ fetchServerData.ts      # TypeScript –≤–µ—Ä—Å–∏—è
‚îî‚îÄ‚îÄ examples/                   # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ basic-usage.ts
    ‚îú‚îÄ‚îÄ custom-server.ts
    ‚îî‚îÄ‚îÄ react-integration.tsx
```

---

## üí° –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞?

1. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ MobileSMARTS**
   - –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (DocTypes)
   - –î–æ–∫—É–º–µ–Ω—Ç—ã –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
   - –¢–æ–≤–∞—Ä—ã (Products)
   - –Ø—á–µ–π–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è (Cells)
   - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã (Partners)
   - –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (Employees)
   - –°–∫–ª–∞–¥—ã (Warehouses)

2. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ JSON —Ñ–∞–π–ª—ã**
   - –§–æ—Ä–º–∞—Ç OData JSON
   - –ì–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ
   - –ü–∞–ø–∫–∞: `src/data/demo/`

3. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞
   - –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API

---

## üì¶ –§–∞–π–ª—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|----------|---------------|
| `scripts/fetchServerData.js` | Node.js —Å–∫—Ä–∏–ø—Ç | `node scripts/fetchServerData.js [url]` |
| `scripts/fetchServerData.ts` | TypeScript –≤–µ—Ä—Å–∏—è | –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |

### –£—Ç–∏–ª–∏—Ç—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `src/utils/dataFetcher.ts` | –í–µ–±-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ |
| `src/services/demoDataService.ts` | –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏ |

### –°—Ç—Ä–∞–Ω–∏—Ü—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `src/pages/DataFetcher.tsx` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å UI |

### –î–∞–Ω–Ω—ã–µ (–¥–µ–º–æ)

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|------|-----------|
| `src/data/demo/doctypes.json` | –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| `src/data/demo/documents.json` | –î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø–∞–º |
| `src/data/demo/products.json` | –¢–æ–≤–∞—Ä—ã |
| `src/data/demo/cells.json` | –Ø—á–µ–π–∫–∏ |
| `src/data/demo/partners.json` | –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã |
| `src/data/demo/employees.json` | –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ |
| `src/data/demo/warehouses.json` | –°–∫–ª–∞–¥—ã |

---

## üéØ –ß—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è?

### Endpoints

- `/api/v1/DocTypes` ‚Üí `doctypes.json`
- `/api/v1/Docs` ‚Üí `documents.json`
- `/api/v1/Products` ‚Üí `products.json`
- `/api/v1/Cells` ‚Üí `cells.json`
- `/api/v1/Partners` ‚Üí `partners.json`
- `/api/v1/Employees` ‚Üí `employees.json`
- `/api/v1/Warehouses` ‚Üí `warehouses.json`

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç OData —Ñ–æ—Ä–º–∞—Ç:

```json
{
  "@odata.context": "http://localhost:9000/MobileSMARTS/api/v1/$metadata#DocTypes",
  "value": [
    { /* –¥–∞–Ω–Ω—ã–µ */ }
  ]
}
```

---

## üîß NPM –∫–æ–º–∞–Ω–¥—ã

```json
{
  "fetch-data": "node scripts/fetchServerData.js",
  "fetch-data:custom": "node scripts/fetchServerData.js"
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ë–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
npm run fetch-data

# –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
npm run fetch-data:custom http://server:9000/MobileSMARTS/api/v1 ./output username password
```

---

## üé≠ –î–µ–º–æ-—Ä–µ–∂–∏–º

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "–í–æ–π—Ç–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ `localStorage.setItem('demo_mode', 'true')`
3. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã (`odataCache`, `demoDataService`) –ø—Ä–æ–≤–µ—Ä—è—é—Ç —ç—Ç–æ—Ç —Ñ–ª–∞–≥
4. –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `src/data/demo/*.json` –≤–º–µ—Å—Ç–æ API

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìä API –°–µ—Ä–≤–∏—Å–∞

### DemoDataService

```typescript
import { demoDataService } from '@/services/demoDataService';

// –ü–æ–ª—É—á–∏—Ç—å —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
const docTypes = demoDataService.getDocTypes();

// –ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø—É
const docs = demoDataService.getDocuments('PrihodNaSklad');

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
const allDocs = demoDataService.getAllDocuments();

// –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
const products = demoDataService.getProducts();

// –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ –ø–æ —à—Ç—Ä–∏—Ö–∫–æ–¥—É
const product = demoDataService.findProductByBarcode('1234567890123');

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
const stats = demoDataService.getStats();
```

### DataFetcher (–í–µ–±)

```typescript
import { fetchServerData, downloadAllData } from '@/utils/dataFetcher';

// –ë–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
const result = await fetchServerData({
  includeProducts: true,
  includeCells: true,
  onProgress: (message, progress) => {
    console.log(`${progress}% - ${message}`);
  },
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤
await downloadAllData();
```

---

## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```
‚ùå Error fetching /DocTypes: connect ECONNREFUSED
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä MobileSMARTS –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL: `http://localhost:9000/MobileSMARTS/swagger/ui/index`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall

### –û—à–∏–±–∫–∞ 401 (Unauthorized)

```
‚ùå Error fetching /DocTypes: 401 Unauthorized
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
node scripts/fetchServerData.js http://localhost:9000/MobileSMARTS/api/v1 ./src/data/demo username password
```

### –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ

```
‚ö†Ô∏è Found 0 documents
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ endpoints
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìñ –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [01-OVERVIEW.md](./01-OVERVIEW.md) | –û–±—â–∏–π –æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã |
| [02-QUICK-START.md](./02-QUICK-START.md) | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ |
| [03-WEB-INTERFACE.md](./03-WEB-INTERFACE.md) | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |
| [04-CLI-USAGE.md](./04-CLI-USAGE.md) | –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ |
| [05-DEMO-MODE.md](./05-DEMO-MODE.md) | –î–µ–º–æ-—Ä–µ–∂–∏–º –ø–æ–¥—Ä–æ–±–Ω–æ |
| [06-API-REFERENCE.md](./06-API-REFERENCE.md) | –°–ø—Ä–∞–≤–∫–∞ –ø–æ API |
| [07-TROUBLESHOOTING.md](./07-TROUBLESHOOTING.md) | –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º |
| [08-CHANGELOG.md](./08-CHANGELOG.md) | –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [07-TROUBLESHOOTING.md](./07-TROUBLESHOOTING.md)
2. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `examples/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Swagger UI: `http://localhost:9000/MobileSMARTS/swagger/ui/index`

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

Cleverence ¬© 2025

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 1 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é





